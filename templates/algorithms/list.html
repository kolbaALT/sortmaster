{% extends 'base.html' %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h2><i class="bi bi-cpu"></i> –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</h2>
        <p class="lead">–ò–∑—É—á–∞–π –∞–ª–≥–æ—Ä–∏—Ç–º—ã –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫ —Å–ª–æ–∂–Ω—ã–º</p>
    </div>
</div>

{% for difficulty_level, algorithms in algorithms_by_difficulty.items %}
    {% if algorithms %}
    <div class="row mb-4">
        <div class="col-12">
            <h4 class="mb-3">
                {% if difficulty_level == 1 %}üü¢ –õ–µ–≥–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã{% elif difficulty_level == 2 %}üü° –°—Ä–µ–¥–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã{% else %}üî¥ –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã{% endif %}
            </h4>
        </div>
        {% for algorithm in algorithms %}
        <div class="col-md-6 col-lg-4 mb-3">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <h5 class="card-title">{{ algorithm.name }}</h5>
                        <span class="badge bg-{% if algorithm.difficulty_level == 1 %}success{% elif algorithm.difficulty_level == 2 %}warning{% else %}danger{% endif %}">
                            {% if algorithm.difficulty_level == 1 %}–õ–µ–≥–∫–∏–π{% elif algorithm.difficulty_level == 2 %}–°—Ä–µ–¥–Ω–∏–π{% else %}–°–ª–æ–∂–Ω—ã–π{% endif %}
                        </span>
                    </div>

                    <p class="card-text">{{ algorithm.description|truncatewords:15 }}</p>

                    <div class="mb-3">
                        <small class="text-muted">
                            <strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong> {{ algorithm.complexity_average }}<br>
                            <strong>–°—Ç–∞–±–∏–ª—å–Ω—ã–π:</strong> {% if algorithm.is_stable %}‚úÖ –î–∞{% else %}‚ùå –ù–µ—Ç{% endif %}
                        </small>
                    </div>

                    <div class="d-grid gap-2">
                        <a href="{% url 'algorithms:detail' algorithm.id %}" class="btn btn-primary">
                            <i class="bi bi-book"></i> –ò–∑—É—á–∏—Ç—å
                        </a>
                        <a href="{% url 'algorithms:simulator' algorithm.id %}" class="btn btn-outline-primary">
                            <i class="bi bi-play-circle"></i> –°–∏–º—É–ª—è—Ç–æ—Ä
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
{% endfor %}

<div class="row mt-5">
    <div class="col-lg-8 mx-auto text-center">
        <div class="card bg-light">
            <div class="card-body">
                <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–∑—É—á–µ–Ω–∏—è</h4>
                <p>üü¢ –ù–∞—á–Ω–∏ —Å <strong>–ª–µ–≥–∫–∏—Ö</strong> –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ ‚Üí üü° –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ <strong>—Å—Ä–µ–¥–Ω–∏–º</strong> ‚Üí üî¥ –ò–∑—É—á–∞–π <strong>—Å–ª–æ–∂–Ω—ã–µ</strong></p>
                <a href="{% url 'algorithms:comparison' %}" class="btn btn-info">
                    <i class="bi bi-bar-chart"></i> –°—Ä–∞–≤–Ω–∏—Ç—å –≤—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
